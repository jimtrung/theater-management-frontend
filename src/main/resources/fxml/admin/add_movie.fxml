<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.github.jimtrung.theater.view.AddMovieController"
            stylesheets="@/styles/styles.css"
            fitToWidth="true">

  <VBox alignment="CENTER" spacing="30">
    <padding><Insets top="40" right="40" bottom="40" left="40"/></padding>

    <Label text="Thêm Phim Mới" styleClass="title"/>

    <GridPane alignment="CENTER" hgap="40" vgap="20">
      <columnConstraints>
        <ColumnConstraints prefWidth="350"/>
        <ColumnConstraints prefWidth="2"/> <!-- Separator or space -->
        <ColumnConstraints prefWidth="350"/>
      </columnConstraints>

      <!-- LEFT COLUMN -->
      <VBox spacing="20" GridPane.columnIndex="0" styleClass="card">
        <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
        
        <VBox spacing="5">
          <Label text="Nhập tên phim" styleClass="form-label"/>
          <TextField fx:id="movieNameField"/>
        </VBox>

        <HBox spacing="15">
          <VBox HBox.hgrow="ALWAYS">
            <Label text="Giới hạn tuổi" styleClass="form-label"/>
            <Spinner fx:id="movieRatedSpinner" editable="true"/>
          </VBox>

          <VBox HBox.hgrow="ALWAYS">
            <Label text="Thời lượng (phút)" styleClass="form-label"/>
            <Spinner fx:id="movieDurationSpinner" editable="true"/>
          </VBox>
        </HBox>

        <HBox spacing="15">
           <VBox HBox.hgrow="ALWAYS">
            <Label text="Ngày khởi chiếu" styleClass="form-label"/>
            <DatePicker fx:id="moviePremiereDatePicker"/>
          </VBox>

          <VBox HBox.hgrow="ALWAYS">
            <Label text="Ngôn ngữ" styleClass="form-label"/>
            <ComboBox fx:id="movieLanguageComboBox" prefWidth="150" promptText="Chọn ngôn ngữ"/>
          </VBox>
        </HBox>
        
        <VBox HBox.hgrow="ALWAYS">
          <Label text="Nhập mô tả phim" styleClass="form-label"/>
          <TextArea fx:id="movieDescriptionField" prefHeight="100" wrapText="true"/>
        </VBox>
      </VBox>

      <!-- RIGHT COLUMN -->
      <VBox spacing="20" GridPane.columnIndex="2" styleClass="card">
        <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
        
        <VBox spacing="5">
          <Label text="Nhập tên đạo diễn" styleClass="form-label"/>
          <TextField fx:id="movieDirectorField"/>
        </VBox>

        <VBox spacing="5">
          <Label text="Nhập diễn viên (Nhấn Enter để thêm)" styleClass="form-label"/>
          <VBox spacing="10">
            <FlowPane fx:id="actorsFlowPane" hgap="8" vgap="8" prefWrapLength="300"/>
            <TextField fx:id="actorInputField" promptText="Nhập tên diễn viên..."/>
          </VBox>
        </VBox>

        <VBox spacing="5">
          <Label text="Chọn thể loại" styleClass="form-label"/>
          <TextField fx:id="searchGenreField"/>
          <ListView fx:id="genreListView" prefHeight="150"/>
        </VBox>
      </VBox>
    </GridPane>

    <HBox spacing="20" alignment="CENTER_RIGHT" maxWidth="740">
      <Button fx:id="backButton" text="Quay Lại" minWidth="100" styleClass="button-secondary" onAction="#handleBackButton"/>
      <Button fx:id="addMovieButton" text="Thêm Phim" minWidth="120" styleClass="button-primary" onAction="#handleAddMovieButton"/>
    </HBox>

  </VBox>
</ScrollPane>
